/*!  - v0.1.0
 * 
 * Copyright (c) 2017; * Licensed GPLv2+ */
function checkUrl(){this.hostname!==window.location.hostname&&jQuery(this).attr("target","_blank")}void 0===Element.prototype.addEventListener&&(Element.prototype.addEventListener=function(e,callback){return e="on"+e,this.attachEvent(e,callback)}),function($,document,window,VScomMLBrowserRedirect){var VSCOM_Lang_Switcher={init:function(){"undefined"!=typeof VSCOM_Language&&void 0!==VSCOM_Language.dropdown?VSCOM_Lang_Switcher.appendDropdown():document.getElementsByTagName("body")[0].className+=" no-translations"},redirect:function(el){var url=el.target.value,language=$(el.target).find(":selected").data("lang-code");url&&url!==window.location&&(VScomMLBrowserRedirect.setCookie(language),window.location=url)},appendDropdown:function(){var oldPicker=document.getElementById("locale-picker-link"),newPicker=document.createElement("div");null!=oldPicker&&(newPicker.className="c-glyph glyph-world",newPicker.innerHTML=VSCOM_Language.dropdown,oldPicker.parentNode.insertBefore(newPicker,oldPicker),newPicker.addEventListener("change",VSCOM_Lang_Switcher.redirect))}};VSCOM_Lang_Switcher.init()}(jQuery,document,window,VScomMLBrowserRedirect);try{jQuery("#headerArea").find("a").each(checkUrl),jQuery("#footerArea").find("a").each(checkUrl)}catch(error){if("object"!=typeof newrelic)throw error;newrelic.noticeError(error)}"undefined"==typeof $&&jQuery&&($=jQuery),function($){"use strict";var getCurrentMenuItemId=function(){var pathname=window.location.pathname,links=$('.shell-category-header a[href*="'+pathname+'"]'),linkId="";return isHomepage()?linkId="shell-cat-header-logo":0<links.length&&(linkId=links.last().attr("id")),linkId&&"-mobile"===linkId.substr(-7)&&(linkId=linkId.substr(0,linkId.length-7)),linkId},isHomepage=function(){var pathname=trimSlashes(window.location.pathname),homeLink=$(document.getElementById("shell-cat-header-logo"));return 0!==homeLink.length&&"undefined"!==homeLink[0]&&trimSlashes(homeLink[0].pathname)===pathname},getProfile=function(){window.onShellReadyToLoad=null,$.ajax({method:"GET",url:microsoftUhfSettings.profileEndpoint,cache:!1,xhrFields:{withCredentials:!0}}).done((function(response,textStatus,xhr){200===xhr.status?loadShell(response):loadShell()})).fail((function(){loadShell()}))},loadShell=function(profileResponse){var settings={currentMenuItemId:getCurrentMenuItemId(),meControlOptions:{rpData:{aadInfo:{}},extensibleLinks:[{string:microsoftUhfSettings.label_profile,url:microsoftUhfSettings.loginUrl,id:"link_profile"}]}};(microsoftUhfSettings.loginUrl||microsoftUhfSettings.logoutUrl)&&(settings.meControlOptions.rpData.aadInfo.signInUrl=microsoftUhfSettings.loginUrl,settings.meControlOptions.rpData.aadInfo.signOutUrl=microsoftUhfSettings.logoutUrl),profileResponse&&profileResponse.displayName&&(settings.meControlOptions.userData={firstName:profileResponse.displayName,memberName:profileResponse.emailAddress,cid:microsoftUhfSettings.clientId,authenticatedState:window.msCommonShell.AuthState.SignedIn,idp:"msaFed"}),window.onShellReadyToLoad=null,window.msCommonShell.load(settings)},trimSlashes=function(str){return"/"===str.substr(0,1)&&(str=str.substr(1)),"/"===str.substr(-1,1)&&(str=str.substr(0,str.length-1)),str};window.msCommonShell?getProfile():window.onShellReadyToLoad=getProfile}(jQuery,void 0);var VSMDD_DOWNLOAD_CLASS="vsmdd-download-link",VSMDD_DOWNLOAD_REGEX=/(?:code\.visualstudio.*\?dv=)|(?:sku=)|(?:\.exe$)/,VSMODAL_HIDDEN_CLASS="vscom-modal-window-wrapper--hidden";function loadScript(location,element,id,callback){var fileRef=document.createElement("script");fileRef.setAttribute("type","text/javascript"),id&&fileRef.setAttribute("id",id),callback&&(fileRef.readyState?fileRef.onreadystatechange=function(){"loaded"!=fileRef.readyState&&"complete"!=fileRef.readyState||(fileRef.onreadystatechange=null,callback())}:fileRef.onload=function(){callback()}),fileRef.setAttribute("src",location),element.appendChild(fileRef)}function mobileOrTablet(){var check=!1,a;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0),check}function dynamicsEmbedScript(id,f,t,ws,ms_tr_il_08,ms_tr_il_w_01){var tr=function(cb){var count=0,callback=function(){0==count&&(count++,w&&w.w(id,t,cb))},ts=document.createElement("script"),head;ts.src=ws,ts.type="text/javascript",ts.onload=callback,ts.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||callback()},document.getElementsByTagName("head")[0].appendChild(ts)};"function"==typeof ms_tr_il_08?null===ms_tr_il_w_01?tr((function(){ms_tr_il_08(id,f,t)})):ms_tr_il_w_01.w(id,t,(function(websiteVisitedParams){ms_tr_il_08(id,f,t,websiteVisitedParams)}),null):tr()}function createModalWindow(){window.loadScript("https://mktdplp102cdn.azureedge.net/public/latest/js/form-loader.js?v=1.60.1066.0",document.head,"none",(function(){window.dynamicsEmbedScript("oS-uJoaJ8L9cVnALebcBTdlxs9zZdFZ4Myv2ygU4Sbg","https://5a3318f6fcc34e41bf99d46845944055.svc.dynamics.com/f","https://5a3318f6fcc34e41bf99d46845944055.svc.dynamics.com/t","https://5a3318f6fcc34e41bf99d46845944055.svc.dynamics.com/t/w","undefined"==typeof ms_tr_il_08?null:ms_tr_il_08,"undefined"==typeof ms_tr_il_w_01?null:ms_tr_il_w_01)}))}function updateClasses(selector,class_toggle,add){for(var elist=document.getElementsByClassName(selector),i=0;i<elist.length;i++)add?elist[i].classList.add(class_toggle):elist[i].classList.remove(class_toggle)}function updateModalUrl(url,element){element.href=url,element.addEventListener("click",(function(event){setTimeout((function(){window.dismissMDD()}),100)}))}function updateModalContent(url){"#"!==url?-1==url.indexOf("sku")?url.indexOf("code.visualstudio")>0?(window.updateClasses("mobile-download-dialog-form","active",!0),window.updateClasses("mobiledownload--vscode","active",!0),updateModalUrl(url,document.getElementById("vscom-mobile-dialog-continue-download-click")),document.getElementById("087fd3d7-1f83-ea11-a811-000d3a3b1bf3").value="yes"):(window.updateClasses("mobile-download-dialog-generic","active",!0),window.updateClasses("mobiledownload--generic","active",!0),updateModalUrl(url,document.getElementById("vscom-mobile-dialog-continue-download-click-generic")),document.getElementById("5feea3ff-1f83-ea11-a811-000d3a3b1bf3").value="yes"):-1==url.indexOf("mac")?(window.updateClasses("mobile-download-dialog-form","active",!0),window.updateClasses("mobiledownload--vs","active",!0),updateModalUrl(url,document.getElementById("vscom-mobile-dialog-continue-download-click")),document.getElementById("8da21ccb-1f83-ea11-a811-000d3a3b1bf3").value="yes"):(window.updateClasses("mobile-download-dialog-form","active",!0),window.updateClasses("mobiledownload--vs4mac","active",!0),updateModalUrl(url,document.getElementById("vscom-mobile-dialog-continue-download-click")),document.getElementById("f5256ff2-1f83-ea11-a811-000d3a3b1bf3").value="yes"):(window.updateClasses("mobile-download-dialog-form","active",!1),window.updateClasses("mobile-download-dialog-generic","active",!1),window.updateClasses("mobiledownload--vs","active",!1),window.updateClasses("mobiledownload--vs4mac","active",!1),window.updateClasses("mobiledownload--vscode","active",!1),window.updateClasses("mobiledownload--generic","active",!1),updateModalUrl("#",document.getElementById("vscom-mobile-dialog-continue-download-click")),updateModalUrl("#",document.getElementById("vscom-mobile-dialog-continue-download-click-generic")),document.getElementById("087fd3d7-1f83-ea11-a811-000d3a3b1bf3").value="",document.getElementById("5feea3ff-1f83-ea11-a811-000d3a3b1bf3").value="",document.getElementById("8da21ccb-1f83-ea11-a811-000d3a3b1bf3").value="",document.getElementById("f5256ff2-1f83-ea11-a811-000d3a3b1bf3").value="")}function updateModal(url){if(document.getElementById("vscom-mobile-dialog-continue-download-click"))updateModalContent(url);else{var urlTargetNode=document.getElementById("vscom-mobile-download-dialog"),urlConfig={childList:!0,subtree:!0},urlCallbackFn,urlObserver;new MutationObserver((function(mutationsList,observer){for(var i=0;i<mutationsList.length;i++){var mutation=mutationsList[i];if(mutation.addedNodes.length>0)for(var n=0;n<mutation.addedNodes.length;n++){var node;"onboardingform"===mutation.addedNodes[n].className&&(updateModalContent(url),observer.disconnect())}}})).observe(urlTargetNode,urlConfig)}}function bindPageEvents(){var closeButton=document.getElementById("vscom-mobile-download-dialog").getElementsByClassName("vscom-mobile-dialog-close")[0];window.showMDD=function(event,url){var modal=document.getElementById("vscom-mobile-download-dialog");window.updateModal(url),modal.classList.remove(VSMODAL_HIDDEN_CLASS)},window.dismissMDD=function(event){var modal=document.getElementById("vscom-mobile-download-dialog");window.updateModal("#"),modal.classList.add(VSMODAL_HIDDEN_CLASS)},document.addEventListener("focus",(function(event){var mddRoot=document.getElementById("vscom-mobile-download-dialog");mddRoot.classList.contains(VSMODAL_HIDDEN_CLASS)||mddRoot.contains(event.target)||(event.stopPropagation(),mddRoot.getElementsByTagName("button")[0].focus())}),!0),closeButton.addEventListener("click",(function(event){window.dismissMDD()}))}function bindDownloadLinks(){for(var anchors=document.getElementsByTagName("a"),i=0;i<anchors.length;i++){var url=anchors[i].getAttribute("href"),classes=anchors[i].classList;(VSMDD_DOWNLOAD_REGEX.test(url)||classes.contains(VSMDD_DOWNLOAD_CLASS))&&anchors[i].addEventListener("click",(function(event){event.preventDefault();var href=this.getAttribute("href"),targetNode=jQuery(".vscom-modal-window")[0],config={childList:!0,subtree:!0},callbackFn,observer;jQuery(".vscom-mobile-dialog-close .vscom-icon").css("display","block"),new MutationObserver((function(mutationsList,observer){for(var mutation of mutationsList)if("success"==jQuery(".onFormSubmittedFeedbackInternalContainerStyle").attr("data-submissionresponse")){jQuery(".vscom-mobile-dialog-close .vscom-icon").css("display","none"),jQuery(".onFormSubmittedFeedbackButtonSuccess").click((function(){jQuery(".vscom-mobile-dialog-close").trigger("click")})).html("Close"),observer.disconnect();break}})).observe(targetNode,config),window.showMDD(event,href)}))}}function initMDD(){createModalWindow(),bindPageEvents(),bindDownloadLinks()}window.mobileOrTablet()&&initMDD();